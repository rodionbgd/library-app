import{B as w}from"./BookItem.1f0cde6c.js";import{_ as y,r as B,o as C,c as o,w as R,a as r,b as s,u as n,d as a,n as P,F as q,e as I,f as N,g as V,h as F,i as H}from"./index.227f8cf4.js";const L={key:0},M={class:"position-fixed row tm-row page-nav"},z={class:"tm-prev-next-wrapper"},E={class:"row tm-row book-list tm-mt-6r"},S={key:1},j={setup(A){const b=N(),l=V(),m=F(),e=B({currentPage:0}),d=()=>{var t;e.currentPage=parseInt((t=l.query.page)!=null?t:1)};C(d);const c=o(()=>m.state.books);R(()=>l.query.page,d);const u=o(()=>Math.ceil(c.value.length/6)),k=o(()=>{const t=(e.currentPage-1)*6,v=e.currentPage*6;return[...c.value].slice(t,v)}),i=()=>{b.push({name:"home",query:{page:e.currentPage}})},h=()=>{p.value&&(e.currentPage+=1),i()},f=()=>{_.value&&(e.currentPage-=1),i()},p=o(()=>e.currentPage<u.value),_=o(()=>e.currentPage>1),x=t=>{m.dispatch("removeBook",t),u.value<e.currentPage&&(e.currentPage=u.value,i())};return(t,v)=>(r(),s("div",null,[n(c).length?(r(),s("div",L,[a("div",M,[a("div",z,[a("button",{onClick:f,class:P([{disabled:!n(_)},"mb-2 tm-btn tm-btn-primary tm-prev-next tm-mr-20"])}," prev ",2),a("button",{onClick:h,class:P([{disabled:!n(p)},"mb-2 tm-btn tm-btn-primary tm-prev-next"])}," next ",2)])]),a("div",E,[(r(!0),s(q,null,I(n(k),g=>(r(),H(w,{key:g.id,book:g,onRemoveBook:x},null,8,["book"]))),128))])])):(r(),s("div",S,"Loading..."))]))}};var K=y(j,[["__scopeId","data-v-01baadf4"]]);export{K as default};
