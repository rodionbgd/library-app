var V=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var y=(t,a,s)=>a in t?V(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,g=(t,a)=>{for(var s in a||(a={}))T.call(a,s)&&y(t,s,a[s]);if(b)for(var s of b(a))j.call(a,s)&&y(t,s,a[s]);return t},w=(t,a)=>L(t,M(a));import{_ as B,o as d,c as _,a as o,F as m,r as E,p as S,b as C,d as D,e as F,f as q,g as z,w as G,h as $,v as x,u as c,i as A,j as H,k as J,l as O,n as P}from"./index.72baa229.js";const I=t=>(S("data-v-27ec91bb"),t=t(),C(),t),Q={id:"full-stars-example-two"},W={class:"rating-group"},X=I(()=>o("input",{disabled:"",checked:"",class:"rating__input rating__input--none",name:"rating3",id:"rating3-none",value:"0",type:"radio"},null,-1)),Y=["aria-label","for"],Z=I(()=>o("i",{class:"rating__icon rating__icon--star fa fa-star"},null,-1)),tt=[Z],et=["id","value","checked","onChange"],ot={props:{rate:{type:Number,default:0}},emits:{"update-rate":null},setup(t,{emit:a}){const s=t,v=u=>{a("update-rate",u)};return(u,e)=>(d(),_("div",Q,[o("div",W,[X,(d(),_(m,null,E(5,i=>(d(),_(m,{key:i},[o("label",{"aria-label":`${i} star`,class:"rating__label",for:`rating3-${i}`},tt,8,Y),o("input",{class:"rating__input",name:"rating3",type:"radio",id:`rating3-${i}`,value:`${i}`,checked:i<=s.rate,onChange:f=>v(i)},null,40,et)],64))),64))])]))}};var at=B(ot,[["__scopeId","data-v-27ec91bb"]]);const R=t=>(S("data-v-8f1ffaa4"),t=t(),C(),t),st={class:"box"},nt={class:"modal__text"},rt={class:"form-group"},lt=R(()=>o("p",{class:"modal__title"},"Title",-1)),it=R(()=>o("p",{class:"modal__title"},"Authors",-1)),ut=["value","onKeyup"],ct=["onKeyup"],dt={props:{bookId:{type:Number,required:!0}},setup(t){const a=t,s=J(),v=O(),u=D(()=>s.state.books.find(n=>n.id===a.bookId)),e=F({title:"",rate:0,newAuthor:"",closeCounter:0});q(()=>{var n,r,l;document.body.addEventListener("keydown",k),e.title=(n=u.value)==null?void 0:n.title,e.rate=(r=u.value)==null?void 0:r.rate,e.authors=(l=u.value)==null?void 0:l.authors.map(h=>h.name)}),z(()=>{document.body.removeEventListener("keydown",k)});const i=()=>{!e.newAuthor||(e.authors=[...e.authors,e.newAuthor],e.newAuthor="")},f=(n,r)=>{const l=n.target.value;if(!l){e.authors.splice(r,1);return}e.authors[r]=l},K=()=>{const n=[];e.authors.forEach(r=>n.push({name:r})),s.dispatch("updateBook",w(g({},u.value),{authors:n,title:e.title,rate:e.rate})),p()},N=n=>{e.rate=n},p=()=>{P(v.back)},k=n=>{n.code==="Escape"&&(p(),n.preventDefault())};return(n,r)=>(d(),_("div",st,[o("div",{class:"modal-container",onClick:p},[o("div",{class:"modal-custom",onClick:r[2]||(r[2]=G(()=>{},["stop"]))},[o("div",nt,[o("form",null,[o("div",rt,[lt,$(o("input",{type:"text",class:"form-control","onUpdate:modelValue":r[0]||(r[0]=l=>c(e).title=l)},null,512),[[x,c(e).title]]),it,(d(!0),_(m,null,E(c(e).authors,(l,h)=>(d(),_("div",{key:h},[o("input",{type:"text",class:"form-control",value:l,onKeyup:A(U=>f(U,h),["enter"])},null,40,ut)]))),128)),$(o("input",{type:"text",class:"form-control",placeholder:"+Add Author","onUpdate:modelValue":r[1]||(r[1]=l=>c(e).newAuthor=l),onKeyup:A(i,["enter"])},null,40,ct),[[x,c(e).newAuthor]])]),o("div",null,[H(at,{onUpdateRate:N,rate:c(e).rate},null,8,["rate"])])])]),o("div",{class:"d-flex justify-content-center mt-2"},[o("button",{class:"modal__btn",onClick:K},"Save book")]),o("button",{class:"modal__btn link-2 mt-3rem",onClick:p})])])]))}};var ht=B(dt,[["__scopeId","data-v-8f1ffaa4"]]);export{ht as default};
